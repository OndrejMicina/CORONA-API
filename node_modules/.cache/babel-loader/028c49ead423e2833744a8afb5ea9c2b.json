{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ondrej\\\\Desktop\\\\apiary-micina\\\\src\\\\Countries.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { Link } from \"react-router-dom\";\nimport { Table, Button } from \"reactstrap\";\nimport axios from \"axios\";\n\nfunction Countries() {\n  useEffect(() => {\n    fetchItems();\n  }, []); //\n\n  var history = [];\n\n  const addToHistory = country => {\n    if (localStorage.getItem(\"history\") === null || localStorage.getItem(\"history\") === null) {\n      history.push(country);\n      localStorage.setItem(\"history\", JSON.stringify(history));\n    } else {\n      history = JSON.parse(localStorage.getItem(\"history\"));\n\n      if (history.length > 4) {\n        history.shift();\n      }\n\n      if (!history.includes(country)) {\n        history.push(country);\n        localStorage.setItem(\"history\", JSON.stringify(history));\n      }\n    }\n  };\n\n  const [items, setItems] = useState([]);\n\n  const fetchItems = async () => {\n    try {\n      const result = await axios(`https://coronavirus-19-api.herokuapp.com/countries/`);\n      setItems(result.data);\n      console.log(items);\n    } catch ({\n      message\n    }) {\n      console.log(message);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Country\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Total Cases\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Total Deaths\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, \"Total Recovered\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, items.sort(items.country).map(item => {\n    console.log(item);\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: item.country,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, item.country), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, item.cases), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, item.deaths), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, item.recovered), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/countries/${item.country}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => addToHistory(item.country),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 62\n      }\n    }, \" Detail \"))));\n  }))));\n}\n\nexport default Countries;","map":{"version":3,"sources":["C:/Users/Ondrej/Desktop/apiary-micina/src/Countries.js"],"names":["React","useState","useEffect","Link","Table","Button","axios","Countries","fetchItems","history","addToHistory","country","localStorage","getItem","push","setItem","JSON","stringify","parse","length","shift","includes","items","setItems","result","data","console","log","message","sort","map","item","cases","deaths","recovered"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Table, Button } from \"reactstrap\";\r\nimport axios from \"axios\";\r\n\r\n\r\nfunction Countries() {\r\n  useEffect(() => {\r\n    fetchItems();\r\n  }, []); //\r\n  var history=[];\r\n\r\n  const addToHistory = (country) => {    \r\n    if (localStorage.getItem(\"history\") === null || localStorage.getItem(\"history\") === null) {\r\n      history.push(country);\r\n      localStorage.setItem(\"history\",JSON.stringify(history));\r\n  }\r\n  else {\r\n      history = JSON.parse(localStorage.getItem(\"history\"));\r\n      if (history.length>4)  {\r\n        history.shift();\r\n      }\r\n      \r\n      if (!history.includes(country)) {\r\n          history.push(country);\r\n      localStorage.setItem(\"history\",JSON.stringify(history));\r\n      }\r\n      \r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  const [items, setItems] = useState([]);\r\n\r\n  const fetchItems = async () => {\r\n    try {\r\n      const result = await axios(\r\n        `https://coronavirus-19-api.herokuapp.com/countries/`\r\n      );\r\n      setItems(result.data);\r\n      console.log(items);\r\n    } catch ({ message }) {\r\n      console.log(message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Table>\r\n        <thead>\r\n          <tr>\r\n            <th>Country</th>\r\n            <th>Total Cases</th>\r\n            <th>Total Deaths</th>\r\n            <th>Total Recovered</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {items.sort(items.country).map((item) => {\r\n            console.log(item)\r\n            return (\r\n              <tr key={item.country}>\r\n                <td>{item.country}</td>\r\n                <td>{item.cases}</td>\r\n                <td>{item.deaths}</td>\r\n                <td>{item.recovered}</td>\r\n                <td><Link to={`/countries/${item.country}`} ><Button onClick={()=>addToHistory(item.country)}  > Detail </Button></Link></td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Countries;\r\n"]},"metadata":{},"sourceType":"module"}